<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>golang面试题-框架 xianxin 志强网</title><meta name="keywords" content="面试,golang"><meta name="description" content="志强博客"><link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/blog.css"><link rel="stylesheet" href="/libs/layui/css/layui.css"><script src="/libs/layui/layui.js"></script><script src="/js/blog.js"></script><meta name="generator" content="Hexo 7.3.0"></head><body class="lay-blog"><div class="header"><div class="header-wrap"><h1 class="logo pull-left"><a href="/"><img src="/img/logo.png" alt="" class="logo-img"> <img src="/img/logo-text.png" alt="" class="logo-text"></a></h1><form class="layui-form blog-seach pull-left" method="get" action="https://www.google.com/search?"><div class="layui-form-item blog-sewrap"><div class="layui-input-block blog-sebox"><i class="layui-icon layui-icon-search"></i> <input type="text" name="q" lay-verify="title" autocomplete="off" class="layui-input"> <input type="hidden" name="source" value="https://www.zhiqiang.wang"></div></div></form><div class="blog-nav pull-right"><ul class="layui-nav pull-left"><li class="layui-nav-item"><a href="/">Home</a></li><li class="layui-nav-item"><a href="/about">About</a></li><li class="layui-nav-item"><a href="/archives">Archives</a></li><li class="layui-nav-item"><a href="/tags">Tags</a></li><li class="layui-nav-item"><a href="/sitemap.xml">RSS</a></li></ul></div></div></div><div class="container-wrap"><div class="container"><div class="contar-wrap"><div class="item"><div class="item-box"><p class="layui-breadcrumb" style="visibility:inherit"><a href="/">首页 </a><a href="/categories/golang/">golang</a></p><h3>golang面试题-框架</h3><h5>发布于：<span> 2024-04-24</span></h5><div class="post-meta"><a href="/tags/%E9%9D%A2%E8%AF%95/"><button type="button" class="layui-btn layui-btn-sm layui-bg-orange">#面试</button> </a><a href="/tags/golang/"><button type="button" class="layui-btn layui-btn-sm layui-bg-orange">#golang</button></a></div><hr class="layui-border-orange"><div class="layui-content"><p class="lay-content page-content"></p><h1 id="微服务了解吗？"><a href="#微服务了解吗？" class="headerlink" title="微服务了解吗？"></a>微服务了解吗？</h1><p>微服务是一种开发软件的架构和组织方法，其中软件由通过明确定义的 API 进行通信的小型独立服务组成。微服务架构使应用程序更易于扩展和更快地开发，从而加速创新并缩短新功能的上市时间。</p><h1 id="服务发现是怎么做的？"><a href="#服务发现是怎么做的？" class="headerlink" title="服务发现是怎么做的？"></a>服务发现是怎么做的？</h1><p>主要有两种服务发现机制：客户端发现和服务端发现。</p><p>客户端发现模式：当我们使用客户端发现的时候，客户端负责决定可用服务实例的网络地址并且在集群中对请求负载均衡, 客户端访问服务登记表，也就是一个可用服务的数据库，然后客户端使用一种负载均衡算法选择一个可用的服务实例然后发起请求。该模式如下图所示：</p><p>服务端发现模式：客户端通过负载均衡器向某个服务提出请求，负载均衡器查询服务注册表，并将请求转发到可用的服务实例。如同客户端发现，服务实例在服务注册表中注册或注销。</p><h1 id="ETCD用过吗？"><a href="#ETCD用过吗？" class="headerlink" title="ETCD用过吗？"></a>ETCD用过吗？</h1><p>etcd是一个高度一致的分布式键值存储，它提供了一种可靠的方式来存储需要由分布式系统或机器集群访问的数据。它可以优雅地处理网络分区期间的领导者选举，即使在领导者节点中也可以容忍机器故障。</p><p>etcd 是用Go语言编写的，它具有出色的跨平台支持，小的二进制文件和强大的社区。etcd机器之间的通信通过Raft共识算法处理。</p><h1 id="GIN怎么做参数校验？"><a href="#GIN怎么做参数校验？" class="headerlink" title="GIN怎么做参数校验？"></a>GIN怎么做参数校验？</h1><p>go采用validator作参数校验。</p><p>它具有以下独特功能：</p><ul><li>使用验证tag或自定义validator进行跨字段Field和跨结构体验证。</li><li>允许切片、数组和哈希表，多维字段的任何或所有级别进行校验。</li><li>能够对哈希表key和value进行验证</li><li>通过在验证之前确定它的基础类型来处理类型接口。</li><li>别名验证标签，允许将多个验证映射到单个标签，以便更轻松地定义结构体上的验证</li><li>gin web 框架的默认验证器；</li></ul><h1 id="中间件用过吗？"><a href="#中间件用过吗？" class="headerlink" title="中间件用过吗？"></a>中间件用过吗？</h1><p>Middleware是Web的重要组成部分，中间件（通常）是一小段代码，它们接受一个请求，对其进行处理，每个中间件只处理一件事情，完成后将其传递给另一个中间件或最终处理程序，这样就做到了程序的解耦。</p><h1 id="你项目有优雅的启停吗？"><a href="#你项目有优雅的启停吗？" class="headerlink" title="你项目有优雅的启停吗？"></a>你项目有优雅的启停吗？</h1><p>所谓「优雅」启停就是在启动退出服务时要满足以下几个条件：</p><ul><li>不可以关闭现有连接（进程）</li><li>新的进程启动并「接管」旧进程</li><li>连接要随时响应用户请求，不可以出现拒绝请求的情况</li><li>停止的时候，必须处理完既有连接，并且停止接收新的连接。</li></ul><p>为此我们必须引用信号来完成这些目的：</p><p>启动：</p><ul><li>监听SIGHUP（在用户终端连接(正常或非正常)结束时发出）；</li><li>收到信号后将服务监听的文件描述符传递给新的子进程，此时新老进程同时接收请求；</li></ul><p>退出：</p><ul><li>监听SIGINT和SIGSTP和SIGQUIT等。</li><li>父进程停止接收新请求，等待旧请求完成（或超时）；</li><li>父进程退出。</li></ul><p>实现：go1.8采用Http.Server内置的Shutdown方法支持优雅关机。 然后<a target="_blank" rel="noopener" href="https://github.com/fvbock/endless">fvbock&#x2F;endless</a>可以实现优雅重启。</p><h1 id="持久化怎么做的？"><a href="#持久化怎么做的？" class="headerlink" title="持久化怎么做的？"></a>持久化怎么做的？</h1><p>所谓持久化就是将要保存的字符串写到硬盘等设备。</p><ul><li>最简单的方式就是采用ioutil的WriteFile()方法将字符串写到磁盘上，这种方法面临格式化方面的问题。</li><li>更好的做法是将数据按照固定协议进行组织再进行读写，比如JSON，XML，Gob，csv等。</li><li>如果要考虑高并发和高可用，必须把数据放入到数据库中，比如MySQL，PostgreDB，MongoDB等。</li></ul><h1 id="go的调试-分析工具用过哪些。"><a href="#go的调试-分析工具用过哪些。" class="headerlink" title="go的调试&#x2F;分析工具用过哪些。"></a>go的调试&#x2F;分析工具用过哪些。</h1><p>go的自带工具链相当丰富，</p><ul><li>go cover : 测试代码覆盖率；</li><li>godoc: 用于生成go文档；</li><li>pprof：用于性能调优，针对cpu，内存和并发；</li><li>race：用于竞争检测；</li></ul><h1 id="grpc为啥好，基本原理是什么，和http比呢"><a href="#grpc为啥好，基本原理是什么，和http比呢" class="headerlink" title="grpc为啥好，基本原理是什么，和http比呢"></a>grpc为啥好，基本原理是什么，和http比呢</h1><p>官方介绍：gRPC 是一个现代开源的高性能远程过程调用 (RPC) 框架，可以在任何环境中运行。它可以通过对负载平衡、跟踪、健康检查和身份验证的可插拔支持有效地连接数据中心内和跨数据中心的服务。它也适用于分布式计算的最后一英里，将设备、移动应用程序和浏览器连接到后端服务。</p><p>区别：<br>- rpc是远程过程调用，就是本地去调用一个远程的函数，而http是通过 url和符合restful风格的数据包去发送和获取数据；<br>- rpc的一般使用的编解码协议更加高效，比如grpc使用protobuf编解码。而http的一般使用json进行编解码，数据相比rpc更加直观，但是数据包也更大，效率低下；<br>- rpc一般用在服务内部的相互调用，而http则用于和用户交互；<br>相似点：<br>都有类似的机制，例如grpc的metadata机制和http的头机制作用相似，而且web框架，和rpc框架中都有拦截器的概念。grpc使用的是http2.0协议。<br>官网：<a target="_blank" rel="noopener" href="https://grpc.io/">gRPC</a></p><p></p></div><hr class="layui-border-orange"></div></div><style>.layui-content table{border-collapse:collapse;border-spacing:0;margin:10px 0;display:table}.layui-content table td,table th{padding:10px;border:1px solid #ddd;color:#333;vertical-align:middle;word-break:normal!important}.layui-content table .gutter{display:none}.layui-content figure.highlight{margin:15px 0;background:#e3e3e3;padding:0;line-height:24px;overflow-x:auto}.layui-content figure.highlight table td{border:0}.layui-content blockquote{margin:15px 0;background:#e3e3e3;border-left:3px solid #5fb878;padding:10px 0 0 20px}.layui-content ol li{margin-bottom:10px;list-style:decimal;margin-left:10px}.layui-content ul li{margin-bottom:10px;list-style:inside;margin-left:10px}.layui-content code{background-color:#e3e3e3}.layui-content a{text-decoration:underline;color:#1e9fff}body img{max-width:100%}</style></div></div></div><div class="footer"><p><span>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> </span><span>| </span><span>Theme - <a href="https://github.com/zzqqw/hexo-theme-xianxin" target="_blank">xianxin</a></span></p><p><span>&copy; 2024</span> <span>MIT license</span></p><script async src="https://www.googletagmanager.com/gtag/js?id=G-TBH6G20B8Y"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TBH6G20B8Y")</script></div></body></html>